<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="jhn-n">
    <meta name="description" content = "Online calculator for odds of winning 
    UK Premium Bonds">
    <meta name="keywords" content="Premium Bonds NSI NS&I odds probabilities probability
    calculation calculated percentile likelihood winning prizes">
    <title>NS&I Premium Bonds Odds Calculator</title>
    <link rel="stylesheet" href="style.css">
    <script src="1-data.js" defer></script>
    <script src="2-pmf-calcs.js" defer></script>
    <script src="3-cdf-calcs.js" defer></script>
    <script src="4-main-table.js" defer></script>
    <script src="5-prizedraw-table.js" defer></script>
    <script src="6-dom.js" defer></script>
</head>

<body>
    <div id="page-container">
        <header>
            <h1>Odds Calculator for NS&I Premium Bonds </h1>
            <button id="about-button">ABOUT</button>
        </header>
        <div class="inputs">
            <label for="holding">Number of premium bonds held (25 - 50,000):</label>
            <input type="number" id="holding" min="25" max="50000" placeholder="25" />
            <button id="calculate-button">CALCULATE</button>
        </div>
        <main id="table-container">
        </main>
        <div class="inputs">
            <span id="update-text"></span>
            <button id="update-button">UPDATE</button>
        </div>

        <dialog id="prizedraw">
            <h2>Prize draw details</h2>
            <p>Update for the current month using linked NS&I data:</p>
            <form action="https://httpbin.org/post" method="post" id="new-prizedraw">
                <button type="button" class="cancel-button" id="cancel-update-button">X</button>
                <div>
                    <label for="odds">
                        Odds of winning
                    </label>
                    <span>
                        <input type="number" id="odds" min="2000" max="200000" required /> <span>to 1</span>
                    </span>
                    <span>
                        <a href="https://www.nsandi.com/products/premium-bonds" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                                fill="#000000">
                                <path
                                    d="M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm-36-154h74q0-33 7.5-52t42.5-52q26-26 41-49.5t15-56.5q0-56-41-86t-97-30q-57 0-92.5 30T342-618l66 26q5-18 22.5-39t53.5-21q32 0 48 17.5t16 38.5q0 20-12 37.5T506-526q-44 39-54 59t-10 73Zm38 314q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z" />
                            </svg>
                        </a>
                    </span>
                </div>
                <div>
                    <label for="numberPrizes">
                        Total prizes
                    </label>
                    <input type="number" id="number-prizes" min="500000" , max="50000000" , required />
                    <span>
                        <a href="https://www.nsandi.com/get-to-know-us/monthly-prize-allocation" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                                fill="#000000">
                                <path
                                    d="M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm-36-154h74q0-33 7.5-52t42.5-52q26-26 41-49.5t15-56.5q0-56-41-86t-97-30q-57 0-92.5 30T342-618l66 26q5-18 22.5-39t53.5-21q32 0 48 17.5t16 38.5q0 20-12 37.5T506-526q-44 39-54 59t-10 73Zm38 314q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z" />
                            </svg>
                        </a>
                    </span>
                </div>
                <div>
                    <label for="prizeFund">
                        Total value of prizes
                    </label>
                    <input type="number" id="prize-fund" min="50000000" max="5000000000" required />
                    <span>
                        <a href="https://www.nsandi.com/get-to-know-us/monthly-prize-allocation" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                                fill="#000000">
                                <path
                                    d="M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm-36-154h74q0-33 7.5-52t42.5-52q26-26 41-49.5t15-56.5q0-56-41-86t-97-30q-57 0-92.5 30T342-618l66 26q5-18 22.5-39t53.5-21q32 0 48 17.5t16 38.5q0 20-12 37.5T506-526q-44 39-54 59t-10 73Zm38 314q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z" />
                            </svg>
                        </a>
                    </span>
                </div>
                <div>
                    <span> </span>
                    <button type="submit" id="submit-update-button">Submit</button>
                </div>
            </form>

            <div id="prizes-container">
            </div>

        </dialog>

        <dialog id="about">
            <button type="button" class="cancel-button" id="cancel-about-button">X</button>
            <p><a href="https://www.nsandi.com/products/premium-bonds">NS&I Premium Bonds</a> are an investment
                product provided by the UK Government. Instead of earning interest, holders are entered into a
                monthly draw offering prizes between £25 and £1 million.</p>
            <p>Use this page to appreciate the odds of winning big over different time periods,
                and to investigate more typical winnings for a given holding.
            </p>
        </dialog>

    </div>

</body>

</html>